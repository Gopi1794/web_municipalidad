<?php

$servidor="localhost";
$usuario="root";
$clave="";
$baseDeDatos="login_register_bd";

$conexion = mysqli_connect ("localhost" , "root" , "" , "login_register_bd");

//prueba de conexion
/*
if($conexion){
    echo "Conectado exitosamente a la base de datos";
}else{
    echo "No se a podido conectar a la base de datos";
} */
?>


<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style-register.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <title>Login y Registro</title>
</head>
<body>
    <header>
    <div class="nav-bar">
        <a href="../misanvicente/index.html" class="logo"><img src="../img/logoMiSanVicente.png"></a>
    </div>
    <section class="session__login_registrer">
    </header>
        <!--Contenedor general-->
        <div class="primer">
            <h2>CREAR CUENTA</h2>
                    <hr>
            <div class="primer">
                <h3>Datos Personales</h3>
                <hr>
                <form action="POST">
                <div class="datos">       
                     <label for="numero">DNI:</label> 
                     <input type="number" maxlength="8" id="dni1" name="DNI" required>
                    </div>
                     <div class="datos">        
                        <label for="numero">CUIL:</label> 
                        <input type="number" class="input-small" maxlength="2" id="input1" name="CUIL1" required>
                        <input type="number" class="input-normal" id="dni2" name="CUIL2" required>
                        <input type="number" class="input-small" maxlength="2" id="input3" name="CUIL3" required>
                    </div>
                    
                        <div class="datos">
                            <label for="numero">CLAVE:</label> 
                            <input type="password" id="progressInput" name="inputName" class="form-control" placeholder="INGRESE SU CLAVE" PA>
                        </div>
                        <span>Longitud de 8 caracteres /
                            2 letras en mayúsculas /
                            1 Carácter especial (!@#$&*) /
                            2 números (0-9) /
                            3 letras en minúsculas.</span>
                        <div class="progress mt-3">
                            <div id="progressBar" class="progress-bar" role="progressbar" style="width: 0%;" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" ></div>
                        </div>
                    
                        <div class="datos">       
                            <label for="numero">APELLIDO:</label> 
                            <input type="text" id="apellido" name="apellido" required>
                           </div>

                           <div class="datos">       
                            <label for="numero">NOMBRE:</label> 
                            <input type="text" id="nombre" name="nombre" required>
                           </div>

                           <div class="datos">       
                            <label for="numero">FECHA DE NACIMIENTO:</label> 
                            <input type="date" id="fechaDeNacimiento" name="fechaDeNacimiento" required>
                           </div>

                           <div class="datos">       
                            <label for="numero">GENERO:</label> 
                            <select id="genero" name="genero" required>
                                <option value="MASCULINO">MASCULINO</option>
                                <option value="FEMENINO">FEMENINO</option>
                                <option value="NO BINARIO">NO BINARIO</option>
                                <option value="INDEFINIDO">INDEFINIDO</option>
                            </select>
                           </div>

                           <div class="datos">       
                            <label for="numero">E-MAIL:</label> 
                            <input type="email" id="email" name="email" required>
                           </div>


                           <div class="datos">       
                            <label for="numero">REPETIR E-MAIL:</label> 
                            <input type="email" id="repitEmail" name="repitEmail" required>
                           </div>
                    </div>

                    <div class="primer">
                        <h3>Residencia</h3>
                <hr>

                <div class="datos">       
                    <label for="numero">PAIS:</label> 
                    <input type="email" id="pais" name="pais" required>
                    <p>OTRO PAIS <input type="checkbox" id="otroPaisCheckbox"></p>
                </div>
            
                <div class="datos" id="provinciaDiv">
                    <label for="numero">PROVINCIA:</label> 
                    <select name="prov_id" id="prov_id">
                        <option selected="selected" value="1">Buenos Aires</option>
                        <option value="2">CABA</option>
                        <option value="3">Catamarca</option>
                        <option value="4">Chaco</option>
                        <option value="5">Chubut</option>
                        <option value="6">Córdoba</option>
                        <option value="7">Corrientes</option>
                        <option value="8">Entre Ríos</option>
                        <option value="9">Formosa</option>
                        <option value="10">Jujuy</option>
                        <option value="11">La Pampa</option>
                        <option value="12">La Rioja</option>
                        <option value="13">Mendoza</option>
                        <option value="14">Misiones</option>
                        <option value="15">Neuquén</option>
                        <option value="16">Río Negro</option>
                        <option value="17">Salta</option>
                        <option value="18">San Juan</option>
                        <option value="19">San Luis</option>
                        <option value="20">Santa Cruz</option>
                        <option value="21">Santa Fe</option>
                        <option value="22">Santiago Del Estero</option>
                        <option value="23">Tierra Del Fuego</option>
                        <option value="24">Tucumán</option>
                    </select>
                </div>
            
                <div class="datos" id="municipalidadDiv">
                    <label for="numero">MUNICIPALIDAD:</label> 
                    <select name="mun_id" id="mun_id">
                        <option value="104">ADOLFO ALSINA</option>
                        <option value="59">ALBERTI</option>
                        <option value="40">ALMIRANTE BROWN</option>
                        <option value="25">ARRECIFES</option>
                        <option value="41">AVELLANEDA</option>
                        <option value="78">AYACUCHO</option>
                        <option value="126">AZUL</option>
                        <option value="105">BAHIA BLANCA</option>
                        <option value="79">BALCARCE</option>
                        <option value="26">BARADERO</option>
                        <option value="42">BERAZATEGUI</option>
                        <option value="43">BERISSO</option>
                        <option value="127">BOLIVAR</option>
                        <option value="60">BRAGADO</option>
                        <option value="44">BRANDSEN</option>
                        <option value="45">CAÑUELAS</option>
                        <option value="1">CAMPANA</option>
                        <option value="27">CAPITAN SARMIENTO</option>
                        <option value="61">CARLOS CASARES</option>
                        <option value="62">CARLOS TEJEDOR</option>
                        <option value="28">CARMEN DE ARECO</option>
                        <option value="80">CASTELLI</option>
                        <option value="63">CHACABUCO</option>
                        <option value="81">CHASCOMUS</option>
                        <option value="64">CHIVILCOY</option>
                        <option value="29">COLON</option>
                        <option value="106">CORONEL DE MARINA L. ROSALES</option>
                        <option value="107">CORONEL DORREGO</option>
                        <option value="108">CORONEL PRINGLES</option>
                        <option value="109">CORONEL SUAREZ</option>
                        <option value="110">DAIREAUX</option>
                        <option value="82">DOLORES</option>
                        <option value="46">ENSENADA</option>
                        <option value="2">ESCOBAR</option>
                        <option value="47">ESTEBAN ECHEVERRIA</option>
                        <option value="30">EXALTACION DE LA CRUZ</option>
                        <option value="48">EZEIZA</option>
                        <option value="49">FLORENCIO VARELA</option>
                        <option value="65">FLORENTINO AMEGHINO</option>
                        <option value="83">GENERAL ALVARADO</option>
                        <option value="128">GENERAL ALVEAR</option>
                        <option value="66">GENERAL ARENALES</option>
                        <option value="84">GENERAL BELGRANO</option>
                        <option value="85">GENERAL GUIDO</option>
                        <option value="111">GENERAL LA MADRID</option>
                        <option value="3">GENERAL LAS HERAS</option>
                        <option value="86">GENERAL LAVALLE</option>
                        <option value="87">GENERAL MADARIAGA</option>
                        <option value="88">GENERAL PAZ</option>
                        <option value="67">GENERAL PINTO</option>
                        <option value="89">GENERAL PUEYRREDON</option>
                        <option value="4">GENERAL RODRIGUEZ</option>
                        <option value="5">GENERAL SAN MARTIN</option>
                        <option value="68">GENERAL VIAMONTE</option>
                        <option value="69">GENERAL VILLEGAS</option>
                        <option value="112">GONZALES CHAVES</option>
                        <option value="113">GUAMINI</option>
                        <option value="70">HIPOLITO YRIGOYEN</option>
                        <option value="6">HURLINGHAM</option>
                        <option value="7">ITUZAINGO</option>
                        <option value="8">JOSE C. PAZ</option>
                        <option value="114">JUAREZ</option>
                        <option value="71">JUNIN</option>
                        <option value="50">LA MATANZA</option>
                        <option value="134">LA PLATA</option>
                        <option value="51">LANUS</option>
                        <option value="115">LAPRIDA</option>
                        <option value="90">LAS FLORES</option>
                        <option value="72">LEANDRO N. ALEM</option>
                        <option value="73">LINCOLN</option>
                        <option value="91">LOBERIA</option>
                        <option value="52">LOBOS</option>
                        <option value="53">LOMAS DE ZAMORA</option>
                        <option value="9">LUJAN</option>
                        <option value="54">MAGDALENA</option>
                        <option value="92">MAIPU</option>
                        <option value="10">MALVINAS ARGENTINAS</option>
                        <option value="93">MAR CHIQUITA</option>
                        <option value="11">MARCOS PAZ</option>
                        <option value="12">MERCEDES</option>
                        <option value="13">MERLO</option>
                        <option value="94">MONTE</option>
                        <option value="14">MORENO</option>
                        <option value="15">MORON</option>
                        <option value="16">NAVARRO</option>
                        <option value="95">NECOCHEA</option>
                        <option value="74">NUEVE DE JULIO</option>
                        <option value="129">OLAVARRIA</option>
                        <option value="96">PARTIDO DE LA COSTA</option>
                        <option value="116">PARTIDO DE MONTE HERMOSO</option>
                        <option value="97">PARTIDO DE VILLA GESELL</option>
                        <option value="117">PATAGONES</option>
                        <option value="75">PEHUAJO</option>
                        <option value="118">PELLEGRINI</option>
                        <option value="31">PERGAMINO</option>
                        <option value="98">PILA</option>
                        <option value="17">PILAR</option>
                        <option value="99">PINAMAR</option>
                        <option value="55">PRESIDENTE PERON</option>
                        <option value="119">PUAN</option>
                        <option value="56">PUNTA INDIO</option>
                        <option value="57">QUILMES</option>
                        <option value="32">RAMALLO</option>
                        <option value="100">RAUCH</option>
                        <option value="76">RIVADAVIA</option>
                        <option value="33">ROJAS</option>
                        <option value="130">ROQUE PEREZ</option>
                        <option value="120">SAAVEDRA</option>
                        <option value="131">SALADILLO</option>
                        <option value="121">SALLIQUELO</option>
                        <option value="34">SALTO</option>
                        <option value="35">SAN ANDRES DE GILES</option>
                        <option value="36">SAN ANTONIO DE ARECO</option>
                        <option value="101">SAN CAYETANO</option>
                        <option value="18">SAN FERNANDO</option>
                        <option value="19">SAN ISIDRO</option>
                        <option value="20">SAN MIGUEL</option>
                        <option value="37">SAN NICOLAS</option>
                        <option value="38">SAN PEDRO</option>
                        <option selected="selected" value="58">SAN VICENTE</option>
                        <option value="21">SUIPACHA</option>
                        <option value="102">TANDIL</option>
                        <option value="132">TAPALQUE</option>
                        <option value="22">TIGRE</option>
                        <option value="103">TORDILLO</option>
                        <option value="122">TORNQUIST</option>
                        <option value="77">TRENQUE LAUQUEN</option>
                        <option value="123">TRES ARROYOS</option>
                        <option value="23">TRES DE FEBRERO</option>
                        <option value="124">TRES LOMAS</option>
                        <option value="133">VEINTICINCO DE MAYO</option>
                        <option value="24">VICENTE LOPEZ</option>
                        <option value="125">VILLARINO</option>
                        <option value="39">ZARATE</option>
                    </select>
                </div>
            
                <div class="datos" id="localidadDiv">
                    <label for="numero">LOCALIDAD:</label> 
                    <select name="loc_id" id="loc_id">
                        <option value="1">ALEJANDRO KORN</option>
                        <option value="3">DOMSELAAR</option>
                        <option value="2">SAN VICENTE</option>
                    </select>
                </div>
                          
    </div>

</form>
                    </div>
        </div>
    </section>
    <script>
        const progressInput = document.getElementById('progressInput');
        const progressBar = document.getElementById('progressBar');

        const moderate = /(?=.*[A-Z])(?=.*[a-z]).{5,}|(?=.*[\d])(?=.*[a-z]).{5,}|(?=.*[\d])(?=.*[A-Z])(?=.*[a-z]).{5,}/;
        const strong = /(?=.*[A-Z])(?=.*[a-z])(?=.*[\d]).{7,}|(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=.*[\d]).{7,}/;
        const extraStrong = /(?=.*[A-Z])(?=.*[a-z])(?=.*[\d])(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?]).{9,}/;

        progressInput.addEventListener('input', function() {
            const threshold = 10; // Número de caracteres que llenan la barra al 100%
            const inputLength = progressInput.value.length;

            // Calcula el progreso basado en la longitud del texto
            let progress = 0;
            if (inputLength >= threshold) {
                progress = 100;
            } else {
                progress = (inputLength / threshold) * 100;
            }

            // Actualiza el ancho y el atributo aria-valuenow de la barra de progreso
            progressBar.style.width = progress + '%';
            progressBar.setAttribute('aria-valuenow', progress);

            // Elimina las clases actuales
            progressBar.classList.remove("bg-success", "bg-warning", "bg-danger");

            // Determina la fortaleza de la contraseña y cambia la clase en consecuencia
            const value = progressInput.value;
            if (extraStrong.test(value)) {
                progressBar.classList.add("bg-success"); // Verde para contraseñas muy fuertes
            } else if (strong.test(value)) {
                progressBar.classList.add("bg-warning"); // Amarillo para contraseñas fuertes
            } else if (moderate.test(value)) {
                progressBar.classList.add("bg-danger"); // Rojo para contraseñas moderadas
            } else {
                progressBar.classList.add("bg-danger"); // Rojo para contraseñas débiles o vacías
            }
        });
    </script>
    <script src="../js/password.js"></script>
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="../js/login.js"></script>
</body>

</html>

